# Документация проекта: Power BI-style Dashboard

## Обзор проекта

Это учебный проект интерактивной панели управления (dashboard), созданной по образцу Microsoft Power BI. Приложение позволяет импортировать данные из CSV файлов, создавать различные типы графиков и диаграмм, а также организовывать их в настраиваемом интерфейсе с возможностью перетаскивания и изменения размеров.

## Технологический стек

### Основные технологии

- **React 19** - Основная библиотека для создания пользовательского интерфейса
- **TypeScript** - Типизированный JavaScript для повышения надежности кода
- **Vite** - Современный инструмент сборки и разработки
- **Tailwind CSS 4** - Utility-first CSS фреймворк для стилизации

### UI и компоненты

- **shadcn/ui** - Коллекция готовых компонентов
- **Lucide React** - Набор иконок
- **class-variance-authority** - Утилита для создания вариантов компонентов
- **clsx** и **tailwind-merge** - Утилиты для работы с CSS классами

### Функциональные библиотеки

- **react-grid-layout** - Drag-and-drop сетка для виджетов
- **Recharts** - Библиотека для создания графиков и диаграмм
- **PapaParse** - Парсер CSV файлов
- **Zustand** - Легковесное управление состоянием
- **i18next** - Интернационализация (поддержка русского, казахского и английского языков)

### Дополнительные инструменты

- **html2canvas** - Создание скриншотов
- **jsPDF** - Генерация PDF документов
- **uuid** - Генерация уникальных идентификаторов
- **ESLint** - Линтер для проверки качества кода

## Архитектура приложения

### Структура проекта

```
dashboard/
├── public/                 # Статические файлы
├── src/
│   ├── assets/            # Изображения, иконки
│   ├── components/        # Переиспользуемые UI компоненты
│   │   └── Modal.tsx      # Модальные окна
│   ├── features/          # Функциональные модули
│   │   ├── charts/        # Компоненты графиков
│   │   ├── dashboard/     # Компоненты панели управления
│   │   └── data/          # Компоненты работы с данными
│   ├── hooks/             # Пользовательские React хуки
│   ├── layouts/           # Макеты страниц
│   ├── lib/               # Конфигурации библиотек
│   ├── locales/           # Файлы переводов
│   │   ├── en/            # Английский язык
│   │   ├── ru/            # Русский язык
│   │   └── kk/            # Казахский язык
│   ├── pages/             # Страницы приложения
│   ├── services/          # Сервисы для работы с данными
│   ├── store/             # Хранилища состояния (Zustand)
│   │   ├── dashboardStore.ts  # Состояние панели управления
│   │   ├── dataStore.ts       # Состояние данных
│   │   └── modalStore.ts      # Состояние модальных окон
│   ├── styles/            # Глобальные стили
│   ├── utils/             # Утилитарные функции
│   ├── App.tsx            # Главный компонент приложения
│   └── main.tsx           # Точка входа
├── package.json           # Зависимости и скрипты
├── vite.config.ts         # Конфигурация Vite
├── tailwind.config.js     # Конфигурация Tailwind CSS
└── tsconfig.json          # Конфигурация TypeScript
```

### Паттерны архитектуры

#### 1. Feature-based организация

Код организован по функциональным модулям (features), каждый из которых содержит связанные компоненты:

- `charts/` - все компоненты для работы с графиками
- `dashboard/` - компоненты панели управления
- `data/` - компоненты для работы с данными

#### 2. Разделение ответственности

- **Components** - "глупые" переиспользуемые UI компоненты
- **Features** - "умные" компоненты с бизнес-логикой
- **Services** - логика работы с внешними API и данными
- **Store** - управление глобальным состоянием
- **Utils** - вспомогательные функции

#### 3. Управление состоянием

Используется **Zustand** для управления глобальным состоянием:

- `dashboardStore` - состояние виджетов и их расположения
- `dataStore` - импортированные данные и их обработка
- `modalStore` - состояние модальных окон

## Маршрутизация

Приложение использует простую клиентскую маршрутизацию без внешних библиотек:

```typescript
type Route = "dashboard" | "import" | "settings" | "bi-view";
```

### Страницы приложения:

- **Dashboard** (`/`) - Главная панель с виджетами
- **Import** (`/import`) - Импорт данных из CSV
- **Settings** (`/settings`) - Настройки приложения
- **BI View** (`/bi-view`) - Специальный режим просмотра

## Интернационализация

Приложение поддерживает три языка:

- **Русский** (ru) - основной язык
- **Английский** (en) - международный язык
- **Казахский** (kk) - региональный язык

Используется библиотека **i18next** с автоматическим определением языка браузера.

## Работа с данными

### Импорт данных

1. Пользователь загружает CSV файл
2. **PapaParse** обрабатывает файл
3. Данные сохраняются в **dataStore**
4. Предоставляется предварительный просмотр

### Визуализация

Поддерживаемые типы графиков (через **Recharts**):

- Линейные графики
- Столбчатые диаграммы
- Круговые диаграммы

### Фильтрация

Реализована система фильтров для данных с возможностью:

- Фильтрации по значениям
- Группировки данных
- Сортировки

## Стилизация и UI

### Дизайн-система

- **Tailwind CSS 4** для utility-first подхода
- **shadcn/ui** для готовых компонентов
- Кастомные CSS для специфичных элементов (grid-styles.css)

### Адаптивность

Интерфейс адаптирован для различных размеров экранов с использованием responsive утилит Tailwind.

### Темизация

Поддержка светлой и темной тем через CSS переменные.

## Настройка разработки

### Требования

- Node.js 16+
- npm или yarn

### Команды разработки

```bash
# Установка зависимостей
npm install

# Запуск dev сервера
npm run dev

# Сборка для продакшена
npm run build

# Проверка кода линтером
npm run lint

# Предварительный просмотр сборки
npm run preview
```

### Конфигурация

#### Vite (vite.config.ts)

- Настроен алиас `@` для папки `src`
- Подключен плагин React
- Интеграция с Tailwind CSS

#### TypeScript

- Строгая типизация
- Разделение конфигураций для приложения и Node.js

#### ESLint

- Правила для React и TypeScript
- Проверка хуков React
- Автоматическое форматирование

## Особенности реализации

### 1. Drag & Drop интерфейс

Использование **react-grid-layout** для создания интерактивной сетки виджетов:

- Перетаскивание виджетов
- Изменение размеров
- Сохранение позиций

### 2. Модульная архитектура

Каждый функциональный блок изолирован и может быть легко заменен или расширен.

### 3. Типобезопасность

Полная типизация с TypeScript обеспечивает надежность и лучший DX.

### 4. Производительность

- Ленивая загрузка компонентов
- Оптимизация ре-рендеров через Zustand
- Минимальный bundle size

## Возможности расширения

### Планируемые улучшения

1. Добавление новых типов графиков
2. Интеграция с внешними API
3. Расширенные возможности фильтрации
4. Экспорт в различные форматы
5. Совместная работа пользователей

### Архитектурные решения для масштабирования

- Модульная структура позволяет легко добавлять новые features
- Типизация обеспечивает безопасное рефакторинг
- Разделение логики и представления упрощает тестирование

## Обучающие аспекты

Этот проект демонстрирует:

- Современные подходы к разработке React приложений
- Работу с TypeScript в реальном проекте
- Управление состоянием без Redux
- Создание переиспользуемых компонентов
- Организацию кода в больших проектах
- Интернационализацию веб-приложений
- Работу с внешними библиотеками и их интеграцию
